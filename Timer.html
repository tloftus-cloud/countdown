<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Census Countdown</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

    <style>
        html {
            overflow:hidden;
        }
    </style>
</head>

<body style='border-radius:4px;'>

    <div class='text-center'
         style='margin:0px;
                height:100%;
                padding:10px 0;
                background-color:#105;
                color:#eee;
                border-radius:4px;'>
        <h3 style='margin:0;'>Census Day 2020 (extended to October 30th)</h3>
        <div class='row'>
            <div class='hidden-xs col-sm-1'></div> <!-- spacer -->
            <div class='hidden-xs col-sm-2'> <!-- date -->
                <h3 style='margin-bottom:0px;'>October</h3>
                <h1 style="margin:0;">30</h1>
            </div>
            <div class='col-xs-12 col-sm-8'> <!-- days hours min sec cols -->
                <div class='col-xs-3'>
                    <h2 id='days'></h2>
                    <p><strong>Days</p></strong>
                </div>
                <div class='col-xs-3'>
                    <h2 id='hours'></h2>
                    <p><strong>Hours</p></strong>
                </div>
                <div class='col-xs-3'>
                    <h2 id='minutes'></h2>
                    <p><strong>Minutes</p></strong>
                </div>
                <div class='col-xs-3'>
                    <h2 id='seconds'></h2>
                    <p><strong>Seconds</p></strong>
                </div>
            </div>
            <div class='hidden-xs col-sm-1'></div> <!-- spacer -->
        </div>
    </div>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>

    <script>
        canvasDateString = 'Oct 30 2020';

        cDate = new Date(canvasDateString);
        function getDiffObj(date1, date2){
            // Return diff obj with keys:
            // 'days', 'hours', 'minutes', 'seconds'

            date2 = date2 || new Date();
            diff = Math.abs(date1 - date2)

            dRatio = 86400000
            hRatio = dRatio / 24
            mRatio = hRatio / 60
            sRatio = mRatio / 60

            d = Math.floor(diff / dRatio)
            remainder = diff % dRatio
            h = Math.floor(remainder / hRatio)
            remainder = diff % hRatio
            m = Math.floor(remainder / mRatio)
            remainder = diff % mRatio
            s = Math.floor(remainder / sRatio)
            remainder = diff % sRatio

            obj = {
                'days': d,
                'hours': h,
                'minutes': m,
                'seconds': s
            }
            return obj
        }

        function renderCountdown(diffObj){
            // Render countdown days, hours, minutes, and seconds in elements
            document.getElementById('days').innerHTML = diffObj['days'];
            document.getElementById('hours').innerHTML = diffObj['hours'];
            document.getElementById('minutes').innerHTML = diffObj['minutes'];
            document.getElementById('seconds').innerHTML = diffObj['seconds'];
        }

        // Render countdown when page is loaded
        renderCountdown(getDiffObj(cDate));

        // Render countdown every second, forever
        setInterval(function () {renderCountdown(getDiffObj(cDate))}, 1000);
    </script>

</body>

</html>
